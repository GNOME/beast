<!DOCTYPE html> <!-- GNU LGPL v2.1+: http://www.gnu.org/licenses/lgpl.html -->
<html><head>

  <title>BEAST</title>

  <link rel="stylesheet" href="objects/app.css">

  <script>
    'use strict';
    const Electron = require ('electron').remote;
    const Bse = require ('./v8bse/v8bse.node');
    0 + Bse; // FIXME 'unused' warnings
    const Mithril = require ('mithril');
    window.$ = window.jQuery = require ('jquery');
    const Dialogs = require ('./assets/dialogs.js');
    const Menus = require ('./menus.js');
    0 + Menus; // FIXME 'unused' warnings
    const App = {
      show_about: true,
      __proto__ : Electron.app
    };
    Object.preventExtensions (App);
  </script>

</head><body>

  <script>
    Dialogs.toggle_about = function() {
      const m = Mithril;
      return (
	m ('button',
	   { onclick: function () { App.show_about = !App.show_about; } },
	   'Toggle About')
      );
    };
  </script>

  <script>
    const MithrilApp = {
      view: function () {
	const m = Mithril;
	const app_body = [
	  Dialogs.toggle_about(),
	  Dialogs.about_dialog(),
	];
	return (
	  m ('div#mithril.Mithril', {
	    style: 'position: absolute; top: 0; left: 0; right: 0; bottom: 0;',
	  }, app_body)
	);
      }
    };
    Mithril.mount (document.body, MithrilApp);
  </script>

</body></html>
